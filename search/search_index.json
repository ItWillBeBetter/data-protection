{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"AWS Data Protection Workshops If you are considering protecting data in your AWS environment using methods such as encryption or certificate management, these workshops can help you learn in depth. Ubiquitous Encryption Data encryption provides a strong layer of security to protect data that you store within AWS services. AWS services can help you achieve ubiquitous encryption for data in transit as well as data at rest. Workshops These workshops demonstrates server side encryption, client side encryption and certfificate management concepts within AWS. For example : Title Description Learning Time Teaching Time With Discussion Level 300: ACM Private CA Best Practices, Monitoring and Templates for code signing certificates This workshop demonstrates private CA best practices, monitoring and use of templates for code siging certs 1 hour 30 mins 2 hours License Summary This sample code is made available under a modified MIT license. See the LICENSE file.","title":"Overview"},{"location":"#aws-data-protection-workshops","text":"If you are considering protecting data in your AWS environment using methods such as encryption or certificate management, these workshops can help you learn in depth.","title":"AWS Data Protection Workshops"},{"location":"#ubiquitous-encryption","text":"Data encryption provides a strong layer of security to protect data that you store within AWS services. AWS services can help you achieve ubiquitous encryption for data in transit as well as data at rest.","title":"Ubiquitous Encryption"},{"location":"#workshops","text":"These workshops demonstrates server side encryption, client side encryption and certfificate management concepts within AWS. For example : Title Description Learning Time Teaching Time With Discussion Level 300: ACM Private CA Best Practices, Monitoring and Templates for code signing certificates This workshop demonstrates private CA best practices, monitoring and use of templates for code siging certs 1 hour 30 mins 2 hours","title":"Workshops"},{"location":"#license-summary","text":"This sample code is made available under a modified MIT license. See the LICENSE file.","title":"License Summary"},{"location":"contribute/","text":"Contributing Guidelines Thank you for your interest in contributing to our project. Whether it's a bug report, new feature, correction, or additional documentation, we greatly value feedback and contributions from our community. Please read through this document before submitting any issues or pull requests to ensure we have all the necessary information to effectively respond to your bug report or contribution. Reporting Bugs/Feature Requests We welcome you to use the GitHub issue tracker to report bugs or suggest features. When filing an issue, please check existing open , or recently closed , issues to make sure somebody else hasn't already reported the issue. Please try to include as much information as you can. Details like these are incredibly useful: A reproducible test case or series of steps The version of our code being used Any modifications you've made relevant to the bug Anything unusual about your environment or deployment Contributing via Pull Requests Contributions via pull requests are much appreciated. Before sending us a pull request, please ensure that: You are working against the latest source on the master branch. You check existing open, and recently merged, pull requests to make sure someone else hasn't addressed the problem already. You open an issue to discuss any significant work - we would hate for your time to be wasted. To send us a pull request, please: Fork the repository. Modify the source; please focus on the specific change you are contributing. If you also reformat all the code, it will be hard for us to focus on your change. Ensure local tests pass. Commit to your fork using clear commit messages. Send us a pull request, answering any default questions in the pull request interface. Pay attention to any automated CI failures reported in the pull request, and stay involved in the conversation. GitHub provides additional document on forking a repository and creating a pull request . Finding contributions to work on Looking at the existing issues is a great way to find something to contribute on. As our projects, by default, use the default GitHub issue labels ((enhancement/bug/duplicate/help wanted/invalid/question/wontfix), looking at any 'help wanted' issues is a great place to start. Code of Conduct This project has adopted the Amazon Open Source Code of Conduct . For more information see the Code of Conduct FAQ or contact opensource-codeofconduct@amazon.com with any additional questions or comments. Security issue notifications If you discover a potential security issue in this project we ask that you notify AWS/Amazon Security via our vulnerability reporting page . Please do not create a public github issue. Licensing See the LICENSE file for our project's licensing. We will ask you to confirm the licensing of your contribution. We may ask you to sign a Contributor License Agreement (CLA) for larger changes.","title":"Contributing"},{"location":"contribute/#contributing-guidelines","text":"Thank you for your interest in contributing to our project. Whether it's a bug report, new feature, correction, or additional documentation, we greatly value feedback and contributions from our community. Please read through this document before submitting any issues or pull requests to ensure we have all the necessary information to effectively respond to your bug report or contribution.","title":"Contributing Guidelines"},{"location":"contribute/#reporting-bugsfeature-requests","text":"We welcome you to use the GitHub issue tracker to report bugs or suggest features. When filing an issue, please check existing open , or recently closed , issues to make sure somebody else hasn't already reported the issue. Please try to include as much information as you can. Details like these are incredibly useful: A reproducible test case or series of steps The version of our code being used Any modifications you've made relevant to the bug Anything unusual about your environment or deployment","title":"Reporting Bugs/Feature Requests"},{"location":"contribute/#contributing-via-pull-requests","text":"Contributions via pull requests are much appreciated. Before sending us a pull request, please ensure that: You are working against the latest source on the master branch. You check existing open, and recently merged, pull requests to make sure someone else hasn't addressed the problem already. You open an issue to discuss any significant work - we would hate for your time to be wasted. To send us a pull request, please: Fork the repository. Modify the source; please focus on the specific change you are contributing. If you also reformat all the code, it will be hard for us to focus on your change. Ensure local tests pass. Commit to your fork using clear commit messages. Send us a pull request, answering any default questions in the pull request interface. Pay attention to any automated CI failures reported in the pull request, and stay involved in the conversation. GitHub provides additional document on forking a repository and creating a pull request .","title":"Contributing via Pull Requests"},{"location":"contribute/#finding-contributions-to-work-on","text":"Looking at the existing issues is a great way to find something to contribute on. As our projects, by default, use the default GitHub issue labels ((enhancement/bug/duplicate/help wanted/invalid/question/wontfix), looking at any 'help wanted' issues is a great place to start.","title":"Finding contributions to work on"},{"location":"contribute/#code-of-conduct","text":"This project has adopted the Amazon Open Source Code of Conduct . For more information see the Code of Conduct FAQ or contact opensource-codeofconduct@amazon.com with any additional questions or comments.","title":"Code of Conduct"},{"location":"contribute/#security-issue-notifications","text":"If you discover a potential security issue in this project we ask that you notify AWS/Amazon Security via our vulnerability reporting page . Please do not create a public github issue.","title":"Security issue notifications"},{"location":"contribute/#licensing","text":"See the LICENSE file for our project's licensing. We will ask you to confirm the licensing of your contribution. We may ask you to sign a Contributor License Agreement (CLA) for larger changes.","title":"Licensing"},{"location":"license/","text":"License MIT License Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved. Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.","title":"License"},{"location":"license/#license","text":"MIT License Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved. Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.","title":"License"},{"location":"usecase-7/","text":"ACM Private Certificate Authority (ACM Private CA) This workshop demonstrates how ACM Private Certificate Authority (PCA) service can be used to create a complete CA hierarchy, generate a private certificate, and apply the private certificate on an Application Load Balancer while following security best practices. 1. You will be using a AWS provided account for this workshop. If you are logged into your personal AWS account or your corporate AWS account, you should log out now. Open this link in a new browser tab: AWS provided account Log in with your hash Click on the AWS Console button It should bring up a pop-up screen. On the pop-up, under Login Link click on Open Console You should be logged into the AWS provided account Please verify that the region selected is N. Virginia or Oregon Setup Certificate Authority Hierarchy 2. An IAM Role called CaAdminRole is the role that a CA administrator would assume. Assume the role named CaAdminRole by using switch role on the AWS console in the AWS account that you are currently logged into This role has permissions that a Certificate Authority administrator will need for CA administration. As a CA administrator you will be responsible for creating a root and subordinate certificate authority hierarchy If you are not familiar with switching roles, follow this tutorial if needed: Assume Role in Console 3. Build the infrastructure needed for creating a CA hierarchy by deploying the cloudformation template below Please download the CF template by right clicking and save link as the filename template-ca-admin.yaml CA Admin Cloudformation Stack by right clicking and saving the yaml file on your laptop. Upload and launch the cloudformation stack in the AWS account that you are logged into. If you are not familiar with this, follow instructions here by right clickking and opening link in a new browser tab Deploy Cloudformation Stack Instructions 4. Create a Root CA. Navigate to ACM Service in the AWS Console Click Get Started under Private Certificate Authority Open this link in a new browser tab for the rest of the steps : Creating a Root CA 5. Create a Subordinate Issuing CA. Navigate to ACM Service in the AWS Console Under Private CA's click on the Create CA button Open this link in a new browser tab for the rest of the steps : Creating a Subordinate CA 6. Quiz time. Open this link in a new browser tab: quiz Create Application 7. An IAM Role called AppDevRole is the role that an application developer would assume. Assume the role named AppDevRole by using switch role on the AWS console in the AWS account that you are currently logged into This role has permissions that a Application developer will need for building an web aplication which is fronted by an application load balancer and behind the load balancer is a lambda origin that provides the HTML code for a website. The application developer will also have permissions to issue a certificate under a certificate authority that they select. If you are not familiar with switching roles, follow this tutorial if needed: Assume Role in Console 8. Build the application infrastructure by deploying the cloudformation template below Please download the CF template by right clicking and save link as the filename template-appdev.yaml AppDev Cloudformation Stack by right clicking and saving the yaml file on your laptop. Upload and launch the cloudformation stack in your AWS account. If you are not familiar with this, follow instructions here by right clicking and opening link in a new browser tab Deploy Cloudformation Stack Instructions This cloudformation deployment takes about 3 minutes to complete. 9. Next step is to issue a private certificate to put on the application load balancer. Open this link in a new browser tab for steps : Issue a private certificate 10. Attach a HTTPS listener and private certificate to the ALB. Open this link in a new browser tab for steps : Attach HTTPS Listener 11. Validate the identity of the ALB with the browser that your are using. Please open link in a new browser tab For Firefox: Validate Certificate Identity on Firefox Browser For Google Chrome: Validate Certificate Identity on Chrome Browser For Microsoft Edge: Validate Certificate Identity on Microsoft Edge Browser For Google Chrome on Windows: Validate Certificate Identity on Windows 12. Quiz time. Open this link in a new browser tab: quiz 13. Cloud9 IDE environment setup Navigate to the Cloud9 service within your AWS console Open the Cloud9 IDE environment called workshop-environment . It takes about 30 seconds for the environment to start up. In the Cloud9 IDE environment you will find a folder called data-protection in the folder pane on the left side of the screen Right-click (on MacOS: control-click) the file named environment-setup.sh in the IDE and select Run This script takes about a minute to complete In the runner window below you should see SUCCESS: installed python dependencies followed by a list of the installed packages Security Monitoring: In this section we will look at how to monitor privileged actions as you build your certificate management infrastructure. We will study two scenerios. The creation of a CA Certificate and mass revocation of end entity certificates. 14. [Scenerio 1]: Monitor Mass Revocation This scenerio shows a developer revoking many end-entity certificates within a short period of time. We want to monitor and notify the security team if this type of privileged action takes place in order to investigate. 15. Create/Revoke End-Entity Certificates First we will act as the Developer by creating and then revoking many certificates at once: Mass revocation 16. Quiz time. Open this link in a new browser tab : quiz 17. Mass Revocation Alarm Setup Setup CloudWatch Alarms: Revocation Alarm setup 18. [Scenerio 2]: CA Certificate Created Creating a CA Certificate is a privileged action that should only be taken by authorized personnel within the CA Hierarchy Management team. For this reason we want to monitor the creation of any CA Certificate within our hierarchy. To do this we will setup a CloudWatch Alarm: CA Cert Alarm setup 19. Quiz time. Open this link in a new browser tab : quiz 20. Create Dashboard Now we have two alarms that have produced ALARM states. This is due to our mass revocation of multiple certificates by the application developer and the creation of a CA Certificate upon creating our CA hierarchy. Organizations can use this mechanism to build dashboards to monitor and alert (SNS, Email, etc) when sensitive actions take place. Create CloudWatch Dashboard: Create Dashboard Advanced Section : In this section we will learn about certificate extensions that can help you use certificates for applications beyond the common case of identifying TLS server endpoints. These include code signing signing Online Certificate Status Protocol (OCSP) responses TLS clients for two-way (mutual) authentication What makes one certificate useful for signing code and another useful for terminating TLS are the extension fields in the certificate. Extension fields, or simply extensions, define the usage of the certificate. There are a few extensions defined in RFC 5280 that are widely commonly used and broadly supported, including Basic Constraints Key Usage Extended Key Usage In this exercise let's create a codesigning certificate using the pre-built templates provided by ACM Private CA. Follow these steps by right clicking and opening this link : Template ACM Private CA Templates allow for constrained usage of certificates for specific usecases and IAM permissions can be used to control which principals - users or roles that can issue a specific kind of certificate. Cleanup AWS Event Don't worry about cleanup, we will take care of it. Hopefully you've learned something useful in this workshop that you can take back your organization. Thank you for coming. On Your Own Disable and delete Root CA and Subordinate CA Delete all three CloudFormation Templates License Summary This sample code is made available under a modified MIT license. See the LICENSE file.","title":"ACM Private Certificate Authority (ACM Private CA)"},{"location":"usecase-7/#acm-private-certificate-authority-acm-private-ca","text":"This workshop demonstrates how ACM Private Certificate Authority (PCA) service can be used to create a complete CA hierarchy, generate a private certificate, and apply the private certificate on an Application Load Balancer while following security best practices.","title":"ACM Private Certificate Authority (ACM Private CA)"},{"location":"usecase-7/#1-you-will-be-using-a-aws-provided-account-for-this-workshop","text":"If you are logged into your personal AWS account or your corporate AWS account, you should log out now. Open this link in a new browser tab: AWS provided account Log in with your hash Click on the AWS Console button It should bring up a pop-up screen. On the pop-up, under Login Link click on Open Console You should be logged into the AWS provided account Please verify that the region selected is N. Virginia or Oregon","title":"1. You will be using a AWS provided account for this workshop."},{"location":"usecase-7/#setup-certificate-authority-hierarchy","text":"","title":"Setup Certificate Authority Hierarchy"},{"location":"usecase-7/#2-an-iam-role-called-caadminrole-is-the-role-that-a-ca-administrator-would-assume","text":"Assume the role named CaAdminRole by using switch role on the AWS console in the AWS account that you are currently logged into This role has permissions that a Certificate Authority administrator will need for CA administration. As a CA administrator you will be responsible for creating a root and subordinate certificate authority hierarchy If you are not familiar with switching roles, follow this tutorial if needed: Assume Role in Console","title":"2. An IAM Role called CaAdminRole is the role that a CA administrator would assume."},{"location":"usecase-7/#3-build-the-infrastructure-needed-for-creating-a-ca-hierarchy-by-deploying-the-cloudformation-template-below","text":"Please download the CF template by right clicking and save link as the filename template-ca-admin.yaml CA Admin Cloudformation Stack by right clicking and saving the yaml file on your laptop. Upload and launch the cloudformation stack in the AWS account that you are logged into. If you are not familiar with this, follow instructions here by right clickking and opening link in a new browser tab Deploy Cloudformation Stack Instructions","title":"3. Build the infrastructure needed for creating a CA hierarchy by deploying the cloudformation template below"},{"location":"usecase-7/#4-create-a-root-ca","text":"Navigate to ACM Service in the AWS Console Click Get Started under Private Certificate Authority Open this link in a new browser tab for the rest of the steps : Creating a Root CA","title":"4. Create a Root CA."},{"location":"usecase-7/#5-create-a-subordinate-issuing-ca","text":"Navigate to ACM Service in the AWS Console Under Private CA's click on the Create CA button Open this link in a new browser tab for the rest of the steps : Creating a Subordinate CA","title":"5. Create a Subordinate Issuing CA."},{"location":"usecase-7/#6-quiz-time-open-this-link-in-a-new-browser-tab-quiz","text":"","title":"6. Quiz time. Open this link in a new browser tab: quiz"},{"location":"usecase-7/#create-application","text":"","title":"Create Application"},{"location":"usecase-7/#7-an-iam-role-called-appdevrole-is-the-role-that-an-application-developer-would-assume","text":"Assume the role named AppDevRole by using switch role on the AWS console in the AWS account that you are currently logged into This role has permissions that a Application developer will need for building an web aplication which is fronted by an application load balancer and behind the load balancer is a lambda origin that provides the HTML code for a website. The application developer will also have permissions to issue a certificate under a certificate authority that they select. If you are not familiar with switching roles, follow this tutorial if needed: Assume Role in Console","title":"7. An IAM Role called AppDevRole is the role that an application developer would assume."},{"location":"usecase-7/#8-build-the-application-infrastructure-by-deploying-the-cloudformation-template-below","text":"Please download the CF template by right clicking and save link as the filename template-appdev.yaml AppDev Cloudformation Stack by right clicking and saving the yaml file on your laptop. Upload and launch the cloudformation stack in your AWS account. If you are not familiar with this, follow instructions here by right clicking and opening link in a new browser tab Deploy Cloudformation Stack Instructions This cloudformation deployment takes about 3 minutes to complete.","title":"8. Build the application infrastructure by deploying the cloudformation template below"},{"location":"usecase-7/#9-next-step-is-to-issue-a-private-certificate-to-put-on-the-application-load-balancer","text":"Open this link in a new browser tab for steps : Issue a private certificate","title":"9. Next step is to issue a private certificate to put on the application load balancer."},{"location":"usecase-7/#10-attach-a-https-listener-and-private-certificate-to-the-alb","text":"Open this link in a new browser tab for steps : Attach HTTPS Listener","title":"10. Attach a HTTPS listener and private certificate to the ALB."},{"location":"usecase-7/#11-validate-the-identity-of-the-alb-with-the-browser-that-your-are-using-please-open-link-in-a-new-browser-tab","text":"For Firefox: Validate Certificate Identity on Firefox Browser For Google Chrome: Validate Certificate Identity on Chrome Browser For Microsoft Edge: Validate Certificate Identity on Microsoft Edge Browser For Google Chrome on Windows: Validate Certificate Identity on Windows","title":"11. Validate the identity of the ALB with the browser that your are using. Please open link in a new browser tab"},{"location":"usecase-7/#12-quiz-time-open-this-link-in-a-new-browser-tab-quiz","text":"","title":"12. Quiz time. Open this link in a new browser tab: quiz"},{"location":"usecase-7/#13-cloud9-ide-environment-setup","text":"Navigate to the Cloud9 service within your AWS console Open the Cloud9 IDE environment called workshop-environment . It takes about 30 seconds for the environment to start up. In the Cloud9 IDE environment you will find a folder called data-protection in the folder pane on the left side of the screen Right-click (on MacOS: control-click) the file named environment-setup.sh in the IDE and select Run This script takes about a minute to complete In the runner window below you should see SUCCESS: installed python dependencies followed by a list of the installed packages","title":"13. Cloud9 IDE environment setup"},{"location":"usecase-7/#security-monitoring","text":"In this section we will look at how to monitor privileged actions as you build your certificate management infrastructure. We will study two scenerios. The creation of a CA Certificate and mass revocation of end entity certificates.","title":"Security Monitoring:"},{"location":"usecase-7/#14-scenerio-1-monitor-mass-revocation","text":"This scenerio shows a developer revoking many end-entity certificates within a short period of time. We want to monitor and notify the security team if this type of privileged action takes place in order to investigate.","title":"14. [Scenerio 1]: Monitor Mass Revocation"},{"location":"usecase-7/#15-createrevoke-end-entity-certificates","text":"First we will act as the Developer by creating and then revoking many certificates at once: Mass revocation","title":"15. Create/Revoke End-Entity Certificates"},{"location":"usecase-7/#16-quiz-time-open-this-link-in-a-new-browser-tab-quiz","text":"","title":"16. Quiz time. Open this link in a new browser tab : quiz"},{"location":"usecase-7/#17-mass-revocation-alarm-setup","text":"Setup CloudWatch Alarms: Revocation Alarm setup","title":"17. Mass Revocation Alarm Setup"},{"location":"usecase-7/#18-scenerio-2-ca-certificate-created","text":"Creating a CA Certificate is a privileged action that should only be taken by authorized personnel within the CA Hierarchy Management team. For this reason we want to monitor the creation of any CA Certificate within our hierarchy. To do this we will setup a CloudWatch Alarm: CA Cert Alarm setup","title":"18. [Scenerio 2]: CA Certificate Created"},{"location":"usecase-7/#19-quiz-time-open-this-link-in-a-new-browser-tab-quiz","text":"","title":"19. Quiz time. Open this link in a new browser tab : quiz"},{"location":"usecase-7/#20-create-dashboard","text":"Now we have two alarms that have produced ALARM states. This is due to our mass revocation of multiple certificates by the application developer and the creation of a CA Certificate upon creating our CA hierarchy. Organizations can use this mechanism to build dashboards to monitor and alert (SNS, Email, etc) when sensitive actions take place. Create CloudWatch Dashboard: Create Dashboard","title":"20. Create Dashboard"},{"location":"usecase-7/#advanced-section","text":"In this section we will learn about certificate extensions that can help you use certificates for applications beyond the common case of identifying TLS server endpoints. These include code signing signing Online Certificate Status Protocol (OCSP) responses TLS clients for two-way (mutual) authentication What makes one certificate useful for signing code and another useful for terminating TLS are the extension fields in the certificate. Extension fields, or simply extensions, define the usage of the certificate. There are a few extensions defined in RFC 5280 that are widely commonly used and broadly supported, including Basic Constraints Key Usage Extended Key Usage In this exercise let's create a codesigning certificate using the pre-built templates provided by ACM Private CA. Follow these steps by right clicking and opening this link : Template ACM Private CA Templates allow for constrained usage of certificates for specific usecases and IAM permissions can be used to control which principals - users or roles that can issue a specific kind of certificate.","title":"Advanced Section :"},{"location":"usecase-7/#cleanup","text":"","title":"Cleanup"},{"location":"usecase-7/#aws-event","text":"Don't worry about cleanup, we will take care of it. Hopefully you've learned something useful in this workshop that you can take back your organization. Thank you for coming.","title":"AWS Event"},{"location":"usecase-7/#on-your-own","text":"Disable and delete Root CA and Subordinate CA Delete all three CloudFormation Templates","title":"On Your Own"},{"location":"usecase-7/#license-summary","text":"This sample code is made available under a modified MIT license. See the LICENSE file.","title":"License Summary"}]}